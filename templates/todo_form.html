{% extends "base.html" %}
{% block title %}{{ 'ویرایش' if todo else 'ایجاد' }} تسک{% endblock %}
{% block content %}
<div class="card">
    <h2>{{ 'ویرایش' if todo else 'ایجاد' }} تسک</h2>
    <form method="post" class="mt-8">
        <label>عنوان:</label>
        <input type="text" name="title" value="{{ todo.title if todo else '' }}" required>

        <label>توضیحات:</label>
        <textarea name="description">{{ todo.description if todo else '' }}</textarea>

        <label>مهلت انجام (YYYY-MM-DD):</label>
        <input type="text" name="deadline" value="{{ todo.deadline.strftime('%Y-%m-%d') if todo.deadline else '' }}">

        <label>اولویت:</label>
        <select name="priority">
            <option value="low" {% if todo and todo.priority=='low' %}selected{% endif %}>پایین</option>
            <option value="medium" {% if not todo or todo.priority=='medium' %}selected{% endif %}>متوسط</option>
            <option value="high" {% if todo and todo.priority=='high' %}selected{% endif %}>بالا</option>
        </select>

        <div class="mt-8">
            <button type="submit" class="btn">ذخیره</button>
            <a href="{{ url_for('todo_list') }}" class="btn ghost">بازگشت</a>
        </div>
    </form>
</div>
{% endblock %}
